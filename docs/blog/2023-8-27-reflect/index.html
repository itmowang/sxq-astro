<!DOCTYPE html><html lang="en"><head><!-- Global Metadata --><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v3.0.5"><title> JavaScript-内置对象-Reflect - 魔王の博客 </title><!-- Canonical URL --><!-- Primary Meta Tags --><title> JavaScript-内置对象-Reflect - 魔王の博客 </title><meta name="title" content=" JavaScript-内置对象-Reflect - 魔王の博客 "><meta name="description" content="Welcome to my website!"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog2.loli.wang/blog/2023-8-27-reflect/"><meta property="og:title" content=" JavaScript-内置对象-Reflect - 魔王の博客 "><meta property="og:description" content="Welcome to my website!"><meta property="og:image" content="https://blog2.loli.wang/placeholder-social.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog2.loli.wang/blog/2023-8-27-reflect/"><meta property="twitter:title" content=" JavaScript-内置对象-Reflect - 魔王の博客 "><meta property="twitter:description" content="Welcome to my website!"><meta property="twitter:image" content="https://blog2.loli.wang/placeholder-social.jpg"><link rel="stylesheet" href="/_astro/about.7dacdf6a.css" />
<style type="text/css">body{cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAAAXNSR0IArs4c6QAAArtJREFUWAntV01rGlEUHWuibcU2TVPTRonJpiL2a1FbaEtpAvobanGnIK4qKQjuhP4GseDWjYuii9CNiyJCN134segiJGlAcKELQWJDFZmeM+0TDRM/ppVuvHCceXfuPXPvfe/dN0qSmmxvb8vn9cvnFWPGFouF/pcHJjIEA/1AoXoTjUZpdfGbyFssFuVAIDDKP0Q34R1DlppuN/D+t+M87Qyy0Wh8VjO6RKVer5cymcyrXq/XUjPahPIxQOMlNQOdmvLf6wxI9SloNVdUKYXb7ZYPDg4+gMgwbYwiQRKcCCedTicdHh4emc3mB9D9EPpxVyWCVqvVgNET4CHwHHADJmCirMDiHnB1ouXCQLUCunq9/gZPrqg+nUK5zN7Rbre7sOVsiLUxhetvEwMJuCmPj4/ZNdYAZR9OyzAgIEmhUJB3d3fts5CMEJAklUrJ8Xicm3zi5hrpAHCUut2uVCqVpEgk8nV9ff1FOBz+AiKmdqEoEfh8PtnpdL6G1X2Ae+AlwFQmikKQTqeTsBQFZOiMbmIKZF8yGo13cbUBM1WfzkL4Js3OgmRx1ViB4XnmLvxvM8FAVrCpe/1+/zSfz7O/XAO4GGduD/CZWXiQbYq2srOzw/O+Xy6X30O/CvALZq6BMAC7CIAdhXC5XHKlUpFrtdrHra2t27AxAnOZJtUARCA2m03OZrMyDt5SMBh0Igi2/+H1g6E2mSobtshQKCQ5HI5H+Jb9dnZ2dpRIJNjteOr/VSBiXlmBO5iCE/RgJZVYLCZ5vd5KMpncR5u9brVa1/7I6g2IyWQy5HK5d36//xMcToGxPVshHfMzmAKPxyM3m82fOAj2YM/efhNgpmaAhyZbNqO8BVA3cqhgrEm4yjc6nc73arW6j/tnHANzW3TgVkRMAdcCM+H/DOr4iUD0gYUsKrCowFwr8AukF+p8blYsTwAAAABJRU5ErkJggg==),default;font-family:Regular}@font-face{font-family:Regular;src:url(/_astro/Regular.fa2d9585.ttf) format("truetype")}.text-shadow{text-shadow:0 .1875rem .3125rem #1c1f21}.waves{position:relative;width:100%;height:10vh;margin-bottom:-7px;min-height:80px;max-height:150px}.waves .content{position:relative;height:10vh;text-align:center;background-color:#fff}.waves .content a{margin:0 5px;font-size:12px;color:#333}.waves .content a:hover{color:#000}.waves .parallax>use{animation:move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite}.waves .parallax>use:nth-child(1){animation-delay:-2s;animation-duration:7s}.waves .parallax>use:nth-child(2){animation-delay:-3s;animation-duration:10s}.waves .parallax>use:nth-child(3){animation-delay:-4s;animation-duration:13s}.waves .parallax>use:nth-child(4){animation-delay:-5s;animation-duration:20s}@keyframes move-forever{0%{transform:translate3d(-90px,0,0)}to{transform:translate3d(85px,0,0)}}@media (max-width: 768px){.waves .waves{height:40px;min-height:40px}.waves .content{height:30vh}.waves h1{font-size:24px}}::-webkit-scrollbar{width:7px;height:7px}::-webkit-scrollbar-thumb{background-color:#14bae4;border-radius:4px}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:#f6f6f6}.svg-icon{width:25px;height:25px}
</style><script type="module" src="/_astro/hoisted.5d947301.js"></script></head><body><div class="h-screen"><div id="nav" class="z-50 h-16 w-full backdrop-blur-sm bg-white/30 dark:bg-black/30 flex items-center px-4 justify-center fixed transition duration-500 ease-in-out"><div class="container flex justify-between hidden md:flex"><div class="flex items-center"><div class="mr-4"><a href="/" title="魔王の博客"><img src="/_astro/logo.554f37e0.png" class="w-[150px] h-[40px]"></a></div><div class="flex dark:text-white"><div class="mr-4 cursor-pointer hover:text-sky-300 transition ease-in-out delay duration-300 flex items-center"><svg class="icon w-[20px] h-[20px] mr-2" aria-hidden="true"><use  xlink:href="#blog-baozi-01"></use></svg> <a href="/" title="Home"> Home </a></div><div class="mr-4 cursor-pointer hover:text-sky-300 transition ease-in-out delay duration-300 flex items-center"><svg class="icon w-[20px] h-[20px] mr-2" aria-hidden="true"><use  xlink:href="#blog-take-01"></use></svg> <a href="/archive" title="Archive"> Archive </a></div><div class="mr-4 cursor-pointer hover:text-sky-300 transition ease-in-out delay duration-300 flex items-center"><svg class="icon w-[20px] h-[20px] mr-2" aria-hidden="true"><use  xlink:href="#blog-shousi-01"></use></svg> <a href="/about" title="About"> About </a></div></div></div><div class="flex items-center"><i class="iconfont blog-icon-test1 dark:text-white" style="font-size:26px"></i></div></div><div class="flex container justify-between items-center md:hidden"><div><i class="iconfont blog-icon-test2 dark:text-white" style="font-size:26px;"></i></div><div class="flex items-center"><div class="mr-4"><img src="/_astro/logo.554f37e0.png" class="w-[150px] h-[40px]"></div></div><div><i class="iconfont blog-icon-test1 dark:text-white" style="font-size:26px"></i></div></div></div><div class="h-2/4 w-full relative z-5"><div class="absolute inset-0 bg-black/50 opacity-50 z-5"></div><img src="/_astro/topimg.af50b3d3.jpg" class="h-full w-full object-cover"><!-- 标题 时间 作者信息啥的 --><div class="absolute inset-0 flex flex-col justify-center items-center"><div class="text-white text-center text-4xl font-semibold text-shadow tracking-widest"> JavaScript-内置对象-Reflect - 魔王の博客</div><div class="flex text-white mt-4"><div class="mx-2 text-shadow font-semibold">JavaScript-内置对象-Reflect</div><!-- <div class="mx-2 text-shadow font-semibold">2021年06月18日</div>
      <div class="mx-2 text-shadow font-semibold">1,628阅读</div>
      <div class="mx-2 text-shadow font-semibold">21评论</div>
      <div class="mx-2 text-shadow font-semibold">43点赞</div> --></div></div><!--  云朵波浪 --><div class="absolute bottom-0 w-full"><svg id="wavesSvg" class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)"></use><use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)"></use><use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)"></use><use xlink:href="#gentle-wave" x="48" y="2" fill="rgba(255,255,255,0.2)"></use></g></svg></div></div><div id="contextAs" class="pb-6 bg-cover bg-white  dark:text-white dark:bg-darkBg1 relative" style="background-image: url(/_astro/bg.0f3c96dc.jpeg)"><div class=" flex justify-center pt-4 min-h-[50vh]"><div class="container bg-white dark:bg-darkBg2 dark:text-white  text-red shadow rounded-md p-4 content"><h2 id="reflect">Reflect</h2>
<p>Reflect 是一个<strong>内置的对象</strong>，他提供了一些方法来 <strong>操作对象</strong> 的属性和方法， 并且它还提供 <strong>拦截 JavaScript 操作</strong> 的方法。这些方法与 proxy handler (en-US) 的方法相同。Reflect 不是一个函数对象，因此它是不可构造的。</p>
<h4 id="reflectgettarget-propertykey-receiver-获取对象的属性值">Reflect.get(target, propertyKey[, receiver]) 获取对象的属性值</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">obj</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{name:</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">Mowang</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">,age:20}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(Reflect.get(obj,</span><span style="color: #50FA7B">'name'</span><span style="color: #F8F8F2">)) // 输出 Mowang</span></span>
<span class="line"></span></code></pre>
<h4 id="reflectsettarget-propertykey-value-receiver-设置对象的属性值">Reflect.set(target, propertyKey, value[, receiver]) 设置对象的属性值</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">obj</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{name:</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">Mowang</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">,age:20}</span></span>
<span class="line"><span style="color: #F8F8F2">    </span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">Reflect.set(obj,</span><span style="color: #50FA7B">'age'</span><span style="color: #50FA7B">,22</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(obj[</span><span style="color: #50FA7B">'age'</span><span style="color: #50FA7B">]</span><span style="color: #F8F8F2">) // 输出 22</span></span></code></pre>
<h4 id="reflecthastarget-propertykey-判断对象是否具有指定的属性">Reflect.has(target, propertyKey) 判断对象是否具有指定的属性</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">obj</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{name:</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">Mowang</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">,age:20}</span></span>
<span class="line"><span style="color: #F8F8F2">    </span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">hasName</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.has</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">obj,</span><span style="color: #50FA7B">'name'</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(hasName</span><span style="color: #F8F8F2">) // 输出 true</span></span>
<span class="line"></span></code></pre>
<h4 id="reflectdeletepropertytarget-propertykey-删除对象的属性">Reflect.deleteProperty(target, propertyKey) 删除对象的属性</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">obj</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{name:</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">Mowang</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">,age:20}</span></span>
<span class="line"><span style="color: #F8F8F2">    </span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">Reflect.deleteProperty(obj,</span><span style="color: #50FA7B">'age'</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(obj</span><span style="color: #F8F8F2">) // 输出 { </span><span style="color: #50FA7B">name:</span><span style="color: #50FA7B">'Mowang'</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">}</span></span>
<span class="line"></span></code></pre>
<h4 id="reflectconstructtarget-argumentslist-newtarget-使用给定的参数列表创建一个对象实例">Reflect.construct(target, argumentsList[, newTarget]) 使用给定的参数列表创建一个对象实例</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">class</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Person</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #50FA7B">constructor(name,age</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #50FA7B">this.name</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">name</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #50FA7B">this.age</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">age</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">args</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> [</span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">Mowang</span><span style="color: #E9F284">'</span><span style="color: #F8F8F2">,20];</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">const</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">person</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.construct</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">Person,args</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">    </span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(person</span><span style="color: #F8F8F2">) // 输出 {</span><span style="color: #50FA7B">name:</span><span style="color: #50FA7B">'Mowang'</span><span style="color: #50FA7B">,age:20}</span></span>
<span class="line"></span></code></pre>
<p>这只是他的常用方法，他还有一些其他的函数</p>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.apply</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">thisArgument,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">argumentsList</span><span style="color: #F8F8F2">)  </span><span style="color: #6272A4"># 通过指定的参数列表发起对目标 (target) 函数的调用</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.get</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">propertyKey[,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">receiver]</span><span style="color: #F8F8F2">) </span><span style="color: #6272A4"># 从已有的对象种读取去属性值</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.has</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">propertyKey</span><span style="color: #F8F8F2">) </span><span style="color: #6272A4"># 判断目标对象中是否存在这个属性</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.set</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">propertyKey,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">value[,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">receiver]</span><span style="color: #F8F8F2">) </span><span style="color: #6272A4"># 修改或者设置一个属性</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.isExtensible</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target</span><span style="color: #F8F8F2">) </span><span style="color: #6272A4"># 判断这个对象是否可拓展 如果可以拓展我们就可以增加新属性 ，比如 Reflect || Object.preventExtensions(target) 设置过的属性就是不可拓展的</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">-</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Reflect.ownKeys</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">target</span><span style="color: #F8F8F2">) </span><span style="color: #6272A4"># 返回一个以目标属性键值的数组 比如 const obj = {name:'Mowang', age:20 }  Reflect.ownKeys(obj) 返回结果为 ['name','age']</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #8BE9FD">...</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">//</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">举几个常用的</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">剩下的阅读MDN</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</span></span></code></pre>
<p>Reflect 是一个内置的 JS 对象，它提供了一系列方法，可以让开发者通过调用这些方法，访问一些 JS 底层功能。也就是说，<strong>从 Reflect 对象上可以拿到语言内部的方法</strong></p>
<h4 id="配合-proxy-使用">配合 proxy 使用</h4>
<pre is:raw="" class="astro-code dracula" style="background-color: #282A36; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color: #8BE9FD">let</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">p</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">a:</span><span style="color: #F8F8F2"> </span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">a</span><span style="color: #E9F284">'</span></span>
<span class="line"><span style="color: #F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8BE9FD">let</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">handler</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">{</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #8BE9FD">set</span><span style="color: #F8F8F2">(target, </span><span style="color: #F1FA8C">key,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">value,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">receiver</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(</span><span style="color: #50FA7B">'set'</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">Reflect.set(target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">key,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">value,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">receiver</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">  },</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #50FA7B">defineProperty(target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">key,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">attribute</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">console.log(</span><span style="color: #50FA7B">'defineProperty'</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #50FA7B">Reflect.defineProperty(target,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">key,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">attribute</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8BE9FD">let</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">obj</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">new</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">Proxy</span><span style="color: #F8F8F2">(</span><span style="color: #50FA7B">p,</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">handler</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #50FA7B">obj.a</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">=</span><span style="color: #F8F8F2"> </span><span style="color: #E9F284">'</span><span style="color: #F1FA8C">A</span><span style="color: #E9F284">'</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #50FA7B">//</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">set</span></span>
<span class="line"><span style="color: #50FA7B">//</span><span style="color: #F8F8F2"> </span><span style="color: #F1FA8C">defineProperty</span></span>
<span class="line"></span></code></pre>
<p>如果 Proxy 对象和 Reflect 对象联合使用，前者<strong>拦截赋值</strong>操作，后者完成<strong>赋值的默认行为</strong>，而且传入了 <strong>receiver</strong>，那么 <strong>Reflect.set 会触发 Proxy.defineProperty 拦截</strong>。</p>
<p>参考文档  <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">MDN - Reflect</a></p></div></div><div class="flex justify-center mt-4"><div class="container bg-white dark:bg-darkBg2 dark:text-white shadow rounded-md p-4  text-center text-block hover:text-sky-300 transition ease-in-out delay duration-300"><div class="23"><a href="/" title="魔王の博客">魔王の博客 - Welcome to my website! - © 2023 YOUR NAME HERE.</a></div></div></div><div class="fixed bottom-4 right-4"><div id="darkToggle" class="rounded-full bg-white w-[40px] h-[40px] flex justify-center items-center text-sky-400 dark:bg-darkBg2 dark:text-sky-600 shadow-xl"><i id="darkIcon" class="iconfont blog-taiyang" style="font-size: 30px;"></i></div><div id="toggleF11" class="rounded-full bg-white w-[40px] h-[40px] flex justify-center items-center text-sky-400 dark:bg-darkBg2 dark:text-sky-600 shadow-xl mt-2"><svg class="icon svg-icon" aria-hidden="true"><use xlink:href="#blog-tiantianquan-01"></use></svg></div></div></div></div></body></html>